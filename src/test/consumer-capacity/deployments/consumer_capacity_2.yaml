apiVersion: apps/v1
kind: Deployment
metadata:
  name: consumer-capacity-2
  labels: 
    app: consumer-capacity-2
spec:
  replicas: 1
  selector:
    matchLabels:
      app: consumer-capacity-2
  template:
    metadata:
      labels:
        app: consumer-capacity-2
    spec:
      hostAliases: 
      - ip: "52.213.38.208"
        hostnames: 
        - "ip-172-31-7-133.eu-west-1.compute.internal"
      - ip: "18.202.250.11"
        hostnames: 
        - "ip-172-31-32-34.eu-west-1.compute.internal"
      - ip: "54.171.156.36"
        hostnames: 
        - "ip-172-31-8-59.eu-west-1.compute.internal"
      - ip: "54.76.46.203"
        hostnames: 
        - "ip-172-31-30-37.eu-west-1.compute.internal"
      imagePullSecrets:
      - name: landauhubkey
      containers:
      - name: consumer-capacity
        env: 
        - name: GROUP_ID
          value: "testing_capacity128"
        volumeMounts:
        - mountPath: /usr/src/data
          name: consumerpvc
        image: thehuub/consumer-capacity:v1.0.2
        imagePullPolicy: Always
        resources:
          requests: 
            memory: "0.5Gi"
            cpu: "500m"
          limits: 
            memory: "0.6Gi"
            cpu: "500m"
      volumes: 
      - name: consumerpvc
        persistentVolumeClaim:
          claimName: consumer-capacity-pvc-2

